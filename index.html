<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.20">
<meta name="author" content="Deusimar Junior">
<title>Exercícios de Processamento Digital de Imagens!</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<style>
pre.pygments .hll { background-color: #ffffcc }
pre.pygments { background: #f8f8f8; }
pre.pygments .tok-c { color: #3D7B7B; font-style: italic } /* Comment */
pre.pygments .tok-err { border: 1px solid #FF0000 } /* Error */
pre.pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
pre.pygments .tok-o { color: #666666 } /* Operator */
pre.pygments .tok-ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
pre.pygments .tok-cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
pre.pygments .tok-cp { color: #9C6500 } /* Comment.Preproc */
pre.pygments .tok-cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
pre.pygments .tok-c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
pre.pygments .tok-cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
pre.pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
pre.pygments .tok-ge { font-style: italic } /* Generic.Emph */
pre.pygments .tok-gr { color: #E40000 } /* Generic.Error */
pre.pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
pre.pygments .tok-gi { color: #008400 } /* Generic.Inserted */
pre.pygments .tok-go { color: #717171 } /* Generic.Output */
pre.pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
pre.pygments .tok-gs { font-weight: bold } /* Generic.Strong */
pre.pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
pre.pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
pre.pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
pre.pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
pre.pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
pre.pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
pre.pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
pre.pygments .tok-kt { color: #B00040 } /* Keyword.Type */
pre.pygments .tok-m { color: #666666 } /* Literal.Number */
pre.pygments .tok-s { color: #BA2121 } /* Literal.String */
pre.pygments .tok-na { color: #687822 } /* Name.Attribute */
pre.pygments .tok-nb { color: #008000 } /* Name.Builtin */
pre.pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
pre.pygments .tok-no { color: #880000 } /* Name.Constant */
pre.pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
pre.pygments .tok-ni { color: #717171; font-weight: bold } /* Name.Entity */
pre.pygments .tok-ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
pre.pygments .tok-nf { color: #0000FF } /* Name.Function */
pre.pygments .tok-nl { color: #767600 } /* Name.Label */
pre.pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
pre.pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
pre.pygments .tok-nv { color: #19177C } /* Name.Variable */
pre.pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
pre.pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
pre.pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
pre.pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
pre.pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
pre.pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
pre.pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
pre.pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
pre.pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
pre.pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
pre.pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
pre.pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
pre.pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
pre.pygments .tok-se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
pre.pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
pre.pygments .tok-si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
pre.pygments .tok-sx { color: #008000 } /* Literal.String.Other */
pre.pygments .tok-sr { color: #A45A77 } /* Literal.String.Regex */
pre.pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
pre.pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
pre.pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
pre.pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
pre.pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
pre.pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
pre.pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
pre.pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
pre.pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Exercícios de Processamento Digital de Imagens!</h1>
<div class="details">
<span id="author" class="author">Deusimar Junior</span><br>
<span id="email" class="email"><a href="mailto:deusimar.junior.055@ufrn.edu.br">deusimar.junior.055@ufrn.edu.br</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_1_a_tranformada_discreta_de_fourier">1. A Tranformada Discreta de Fourier</a>
<ul class="sectlevel2">
<li><a href="#_1_1_transformada_de_fourier_da_senóide_png">1.1 transformada de Fourier da senóide (PNG)</a></li>
<li><a href="#_1_2_transformada_de_fourier_da_senóide_yaml">1.2 transformada de Fourier da senóide (YAML)</a></li>
</ul>
</li>
<li><a href="#_2_filtragem_no_domínio_da_frequência">2.Filtragem no Domínio da Frequência</a></li>
<li><a href="#_3_segmentação_de_imagens_cannypoints_py">3.Segmentação de imagens (cannypoints.py)</a></li>
<li><a href="#_4_quantização_vetorial_com_k_means">4.Quantização vetorial com k-means</a></li>
<li><a href="#_5_filtragem_de_forma_com_morfologia_matemática">5.Filtragem de forma com morfologia matemática</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_1_a_tranformada_discreta_de_fourier">1. A Tranformada Discreta de Fourier</h2>
<div class="sectionbody">
<div class="paragraph">
<p>O seguinte programa calcula o espectro de uma imagem com uma senoide de 8 períodos, a fim de analisar seu comportamento no domínio da frequência:</p>
</div>
<div class="sect2">
<h3 id="_1_1_transformada_de_fourier_da_senóide_png">1.1 transformada de Fourier da senóide (PNG)</h3>
<div id="exa_hello" class="listingblock">
<div class="title">DFT.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-kn">import</span> <span class="tok-nn">cv2</span>
<span class="tok-kn">import</span> <span class="tok-nn">numpy</span> <span class="tok-k">as</span> <span class="tok-nn">np</span>

<span class="tok-k">def</span> <span class="tok-nf">swap_quadrants</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">):</span>
    <span class="tok-c1"># Se a imagem tiver dimensões ímpares, corta para o tamanho par mais próximo</span>
    <span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-p">[:</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]</span> <span class="tok-o">&amp;</span> <span class="tok-o">-</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-p">:</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">]</span> <span class="tok-o">&amp;</span> <span class="tok-o">-</span><span class="tok-mi">2</span><span class="tok-p">]</span>

    <span class="tok-n">center_x</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">]</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
    <span class="tok-n">center_y</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>

    <span class="tok-c1"># Rearranja os quadrantes</span>
    <span class="tok-n">A</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-p">[:</span><span class="tok-n">center_y</span><span class="tok-p">,</span> <span class="tok-p">:</span><span class="tok-n">center_x</span><span class="tok-p">]</span>
    <span class="tok-n">B</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-p">[:</span><span class="tok-n">center_y</span><span class="tok-p">,</span> <span class="tok-n">center_x</span><span class="tok-p">:]</span>
    <span class="tok-n">C</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-p">[</span><span class="tok-n">center_y</span><span class="tok-p">:,</span> <span class="tok-p">:</span><span class="tok-n">center_x</span><span class="tok-p">]</span>
    <span class="tok-n">D</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-p">[</span><span class="tok-n">center_y</span><span class="tok-p">:,</span> <span class="tok-n">center_x</span><span class="tok-p">:]</span>

    <span class="tok-c1"># Troca os quadrantes (Topo-Esquerda com Baixo-Direita)</span>
    <span class="tok-n">tmp</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">copy</span><span class="tok-p">(</span><span class="tok-n">A</span><span class="tok-p">)</span>
    <span class="tok-n">A</span><span class="tok-p">[:],</span> <span class="tok-n">D</span><span class="tok-p">[:]</span> <span class="tok-o">=</span> <span class="tok-n">D</span><span class="tok-p">,</span> <span class="tok-n">tmp</span>

    <span class="tok-c1"># Troca o quadrante (Topo-Direita com Baixo-Esquerda)</span>
    <span class="tok-n">tmp</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">copy</span><span class="tok-p">(</span><span class="tok-n">C</span><span class="tok-p">)</span>
    <span class="tok-n">C</span><span class="tok-p">[:],</span> <span class="tok-n">B</span><span class="tok-p">[:]</span> <span class="tok-o">=</span> <span class="tok-n">B</span><span class="tok-p">,</span> <span class="tok-n">tmp</span>

<span class="tok-k">def</span> <span class="tok-nf">main</span><span class="tok-p">():</span>
    <span class="tok-c1"># Lê a imagem em escala de cinza</span>
    <span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imread</span><span class="tok-p">(</span><span class="tok-s2">&quot;senoide.png&quot;</span><span class="tok-p">,</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">IMREAD_GRAYSCALE</span><span class="tok-p">)</span>
    <span class="tok-k">if</span> <span class="tok-n">image</span> <span class="tok-ow">is</span> <span class="tok-kc">None</span><span class="tok-p">:</span>
        <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Erro ao abrir a imagem&quot;</span><span class="tok-p">)</span>
        <span class="tok-k">return</span>

    <span class="tok-c1"># Expande a imagem para o tamanho ótimo para a transformada de Fourier</span>
    <span class="tok-n">dft_M</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">getOptimalDFTSize</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">])</span>
    <span class="tok-n">dft_N</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">getOptimalDFTSize</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">])</span>
    <span class="tok-n">padded</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">copyMakeBorder</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-n">dft_M</span> <span class="tok-o">-</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">],</span> <span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-n">dft_N</span> <span class="tok-o">-</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">],</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">BORDER_CONSTANT</span><span class="tok-p">,</span> <span class="tok-n">value</span><span class="tok-o">=</span><span class="tok-mi">0</span><span class="tok-p">)</span>

    <span class="tok-c1"># Prepara a matriz complexa</span>
    <span class="tok-n">complex_image</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">merge</span><span class="tok-p">([</span><span class="tok-n">padded</span><span class="tok-o">.</span><span class="tok-n">astype</span><span class="tok-p">(</span><span class="tok-nb">float</span><span class="tok-p">),</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">zeros_like</span><span class="tok-p">(</span><span class="tok-n">padded</span><span class="tok-p">,</span> <span class="tok-n">dtype</span><span class="tok-o">=</span><span class="tok-nb">float</span><span class="tok-p">)])</span>

    <span class="tok-c1"># Calcula a Transformada de Fourier Discreta (DFT)</span>
    <span class="tok-n">complex_image</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">dft</span><span class="tok-p">(</span><span class="tok-n">complex_image</span><span class="tok-p">)</span>
    <span class="tok-n">swap_quadrants</span><span class="tok-p">(</span><span class="tok-n">complex_image</span><span class="tok-p">)</span>

    <span class="tok-c1"># Separa a imagem complexa em partes real e imaginária</span>
    <span class="tok-n">planos</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">split</span><span class="tok-p">(</span><span class="tok-n">complex_image</span><span class="tok-p">)</span>

    <span class="tok-c1"># Calcula magnitude e fase</span>
    <span class="tok-n">magn</span><span class="tok-p">,</span> <span class="tok-n">fase</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">cartToPolar</span><span class="tok-p">(</span><span class="tok-n">planos</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">],</span> <span class="tok-n">planos</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">],</span> <span class="tok-n">angleInDegrees</span><span class="tok-o">=</span><span class="tok-kc">False</span><span class="tok-p">)</span>
    <span class="tok-n">fase</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">normalize</span><span class="tok-p">(</span><span class="tok-n">fase</span><span class="tok-p">,</span> <span class="tok-kc">None</span><span class="tok-p">,</span> <span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">NORM_MINMAX</span><span class="tok-p">)</span>

    <span class="tok-c1"># Calcula o log da magnitude</span>
    <span class="tok-n">magn</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
    <span class="tok-n">magn</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">log</span><span class="tok-p">(</span><span class="tok-n">magn</span><span class="tok-p">)</span>
    <span class="tok-n">magn</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">normalize</span><span class="tok-p">(</span><span class="tok-n">magn</span><span class="tok-p">,</span> <span class="tok-kc">None</span><span class="tok-p">,</span> <span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">NORM_MINMAX</span><span class="tok-p">)</span>

    <span class="tok-c1"># Exibe as imagens processadas</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imshow</span><span class="tok-p">(</span><span class="tok-s2">&quot;Imagem Original&quot;</span><span class="tok-p">,</span> <span class="tok-n">image</span><span class="tok-p">)</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imshow</span><span class="tok-p">(</span><span class="tok-s2">&quot;Espectro de Magnitude&quot;</span><span class="tok-p">,</span> <span class="tok-n">magn</span><span class="tok-p">)</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imshow</span><span class="tok-p">(</span><span class="tok-s2">&quot;Espectro de Fase&quot;</span><span class="tok-p">,</span> <span class="tok-n">fase</span><span class="tok-p">)</span>

    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">waitKey</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">)</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">destroyAllWindows</span><span class="tok-p">()</span>

<span class="tok-k">if</span> <span class="tok-vm">__name__</span> <span class="tok-o">==</span> <span class="tok-s2">&quot;__main__&quot;</span><span class="tok-p">:</span>
    <span class="tok-n">main</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>O código processa uma imagem em escala de cinza usando a Transformada de Fourier Discreta (DFT), uma técnica que destaca as características de frequência da imagem. Ele ajusta a imagem para a DFT, troca os quadrantes para facilitar a visualização, e calcula a magnitude e a fase.
O resultado final exibe a imagem original, o espectro de magnitude e o espectro de fase. Em suma, o código oferece uma análise no domínio da frequência da imagem para destacar padrões e informações relevantes.</p>
</div>
<div class="paragraph">
<p>A figura <a href="#q1-a.png">[q1-a.png]</a> mostra como ficou a saida</p>
</div>
<div id="fig_alo" class="imageblock">
<div class="content">
<img src="q1-a.png" alt="q1 a">
</div>
<div class="title">Figure 1. Saída do DFT</div>
</div>
<div class="paragraph">
<p>É possível observar os pontos mais próximos ao centro, que representam os espectros da senoide. Entretanto, as operações de leitura/gravação de imagens e o armazenamento em formato PNG podem introduzir erros discretos e quantização, os quais podem se manifestar como componentes espectrais adicionais.</p>
</div>
</div>
<div class="sect2">
<h3 id="_1_2_transformada_de_fourier_da_senóide_yaml">1.2 transformada de Fourier da senóide (YAML)</h3>
<div id="exa_hello" class="listingblock">
<div class="title">DFT.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-kn">import</span> <span class="tok-nn">cv2</span>
<span class="tok-kn">import</span> <span class="tok-nn">numpy</span> <span class="tok-k">as</span> <span class="tok-nn">np</span>

<span class="tok-k">def</span> <span class="tok-nf">swap_quadrants</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">):</span>
    <span class="tok-c1"># Se a imagem tiver dimensões ímpares, corta para o tamanho par mais próximo</span>
    <span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-p">[:</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]</span> <span class="tok-o">&amp;</span> <span class="tok-o">-</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-p">:</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">]</span> <span class="tok-o">&amp;</span> <span class="tok-o">-</span><span class="tok-mi">2</span><span class="tok-p">]</span>

    <span class="tok-n">center_x</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">]</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>
    <span class="tok-n">center_y</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">]</span> <span class="tok-o">//</span> <span class="tok-mi">2</span>

    <span class="tok-c1"># Rearranja os quadrantes</span>
    <span class="tok-n">A</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-p">[:</span><span class="tok-n">center_y</span><span class="tok-p">,</span> <span class="tok-p">:</span><span class="tok-n">center_x</span><span class="tok-p">]</span>
    <span class="tok-n">B</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-p">[:</span><span class="tok-n">center_y</span><span class="tok-p">,</span> <span class="tok-n">center_x</span><span class="tok-p">:]</span>
    <span class="tok-n">C</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-p">[</span><span class="tok-n">center_y</span><span class="tok-p">:,</span> <span class="tok-p">:</span><span class="tok-n">center_x</span><span class="tok-p">]</span>
    <span class="tok-n">D</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-p">[</span><span class="tok-n">center_y</span><span class="tok-p">:,</span> <span class="tok-n">center_x</span><span class="tok-p">:]</span>

    <span class="tok-c1"># Troca os quadrantes (Topo-Esquerda com Baixo-Direita)</span>
    <span class="tok-n">tmp</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">copy</span><span class="tok-p">(</span><span class="tok-n">A</span><span class="tok-p">)</span>
    <span class="tok-n">A</span><span class="tok-p">[:],</span> <span class="tok-n">D</span><span class="tok-p">[:]</span> <span class="tok-o">=</span> <span class="tok-n">D</span><span class="tok-p">,</span> <span class="tok-n">tmp</span>

    <span class="tok-c1"># Troca o quadrante (Topo-Direita com Baixo-Esquerda)</span>
    <span class="tok-n">tmp</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">copy</span><span class="tok-p">(</span><span class="tok-n">C</span><span class="tok-p">)</span>
    <span class="tok-n">C</span><span class="tok-p">[:],</span> <span class="tok-n">B</span><span class="tok-p">[:]</span> <span class="tok-o">=</span> <span class="tok-n">B</span><span class="tok-p">,</span> <span class="tok-n">tmp</span>

<span class="tok-k">def</span> <span class="tok-nf">main</span><span class="tok-p">():</span>
    <span class="tok-c1"># Lê a imagem em escala de cinza</span>
    <span class="tok-n">yml_file</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;senoides.yml&quot;</span>
    <span class="tok-n">fs</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">FileStorage</span><span class="tok-p">(</span><span class="tok-n">yml_file</span><span class="tok-p">,</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">FILE_STORAGE_READ</span><span class="tok-p">)</span>
    <span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">fs</span><span class="tok-o">.</span><span class="tok-n">getNode</span><span class="tok-p">(</span><span class="tok-s2">&quot;mat&quot;</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">mat</span><span class="tok-p">()</span>
    <span class="tok-n">fs</span><span class="tok-o">.</span><span class="tok-n">release</span><span class="tok-p">()</span>

    <span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">normalize</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-kc">None</span><span class="tok-p">,</span> <span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-mi">255</span><span class="tok-p">,</span> <span class="tok-n">cv2</span> <span class="tok-n">NORM_MINMAX</span><span class="tok-p">)</span>

    <span class="tok-k">if</span> <span class="tok-n">image</span> <span class="tok-ow">is</span> <span class="tok-kc">None</span><span class="tok-p">:</span>
        <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Erro ao abrir a imagem&quot;</span><span class="tok-p">)</span>
        <span class="tok-k">return</span>

    <span class="tok-c1"># Expande a imagem para o tamanho ótimo para a transformada de Fourier</span>
    <span class="tok-n">dft_M</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">getOptimalDFTSize</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">])</span>
    <span class="tok-n">dft_N</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">getOptimalDFTSize</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">])</span>
    <span class="tok-n">padded</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">copyMakeBorder</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-n">dft_M</span> <span class="tok-o">-</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">],</span> <span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-n">dft_N</span> <span class="tok-o">-</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">],</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">BORDER_CONSTANT</span><span class="tok-p">,</span> <span class="tok-n">value</span><span class="tok-o">=</span><span class="tok-mi">0</span><span class="tok-p">)</span>

    <span class="tok-c1"># Prepara a matriz complexa</span>
    <span class="tok-n">complex_image</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">merge</span><span class="tok-p">([</span><span class="tok-n">padded</span><span class="tok-o">.</span><span class="tok-n">astype</span><span class="tok-p">(</span><span class="tok-nb">float</span><span class="tok-p">),</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">zeros_like</span><span class="tok-p">(</span><span class="tok-n">padded</span><span class="tok-p">,</span> <span class="tok-n">dtype</span><span class="tok-o">=</span><span class="tok-nb">float</span><span class="tok-p">)])</span>

    <span class="tok-c1"># Calcula a Transformada de Fourier Discreta (DFT)</span>
    <span class="tok-n">complex_image</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">dft</span><span class="tok-p">(</span><span class="tok-n">complex_image</span><span class="tok-p">)</span>
    <span class="tok-n">swap_quadrants</span><span class="tok-p">(</span><span class="tok-n">complex_image</span><span class="tok-p">)</span>

    <span class="tok-c1"># Separa a imagem complexa em partes real e imaginária</span>
    <span class="tok-n">planos</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">split</span><span class="tok-p">(</span><span class="tok-n">complex_image</span><span class="tok-p">)</span>

    <span class="tok-c1"># Calcula magnitude e fase</span>
    <span class="tok-n">magn</span><span class="tok-p">,</span> <span class="tok-n">fase</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">cartToPolar</span><span class="tok-p">(</span><span class="tok-n">planos</span><span class="tok-p">[</span><span class="tok-mi">0</span><span class="tok-p">],</span> <span class="tok-n">planos</span><span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">],</span> <span class="tok-n">angleInDegrees</span><span class="tok-o">=</span><span class="tok-kc">False</span><span class="tok-p">)</span>
    <span class="tok-n">fase</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">normalize</span><span class="tok-p">(</span><span class="tok-n">fase</span><span class="tok-p">,</span> <span class="tok-kc">None</span><span class="tok-p">,</span> <span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">NORM_MINMAX</span><span class="tok-p">)</span>

    <span class="tok-c1"># Calcula o log da magnitude</span>
    <span class="tok-n">magn</span> <span class="tok-o">+=</span> <span class="tok-mi">1</span>
    <span class="tok-n">magn</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">log</span><span class="tok-p">(</span><span class="tok-n">magn</span><span class="tok-p">)</span>
    <span class="tok-n">magn</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">normalize</span><span class="tok-p">(</span><span class="tok-n">magn</span><span class="tok-p">,</span> <span class="tok-kc">None</span><span class="tok-p">,</span> <span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">NORM_MINMAX</span><span class="tok-p">)</span>

    <span class="tok-c1"># Exibe as imagens processadas</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imshow</span><span class="tok-p">(</span><span class="tok-s2">&quot;Imagem Original&quot;</span><span class="tok-p">,</span> <span class="tok-n">image</span><span class="tok-p">)</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imshow</span><span class="tok-p">(</span><span class="tok-s2">&quot;Espectro de Magnitude&quot;</span><span class="tok-p">,</span> <span class="tok-n">magn</span><span class="tok-p">)</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imshow</span><span class="tok-p">(</span><span class="tok-s2">&quot;Espectro de Fase&quot;</span><span class="tok-p">,</span> <span class="tok-n">fase</span><span class="tok-p">)</span>

    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">waitKey</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">)</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">destroyAllWindows</span><span class="tok-p">()</span>

<span class="tok-k">if</span> <span class="tok-vm">__name__</span> <span class="tok-o">==</span> <span class="tok-s2">&quot;__main__&quot;</span><span class="tok-p">:</span>
    <span class="tok-n">main</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A figura <a href="#q1-b">[q1-b]</a> mostra como ficou a saida para um arquivo yaml</p>
</div>
<div id="fig_alo" class="imageblock">
<div class="content">
<img src="q1-b.png" alt="q1 b">
</div>
<div class="title">Figure 2. Saída do programa DFT</div>
</div>
<div class="paragraph">
<p>Neste caso, a resposta se aproxima mais da teoria devido ao fato de que os valores não foram significativamente afetados por quantização durante a compressão. Consequentemente, não observamos o surgimento de novas frequências para representar os valores da senoide.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_2_filtragem_no_domínio_da_frequência">2.Filtragem no Domínio da Frequência</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ao empregar o programa exemplos/dftfilter.cpp como ponto de partida, desenvolvi uma implementação do filtro homomórfico com o objetivo de aprimorar imagens afetadas por iluminação irregular. Para realizar essa tarefa, criei uma cena propositalmente mal iluminada, visando simular condições desafiadoras. Ajustei os parâmetros do filtro homomórfico de maneira criteriosa para corrigir as irregularidades de iluminação de forma otimizada</p>
</div>
<div class="listingblock">
<div class="title">homomorfico.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-kn">import</span> <span class="tok-nn">cv2</span>
<span class="tok-kn">import</span> <span class="tok-nn">numpy</span> <span class="tok-k">as</span> <span class="tok-nn">np</span>

<span class="tok-k">def</span> <span class="tok-nf">homomorphic_filter</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-n">cutoff_freq_low</span><span class="tok-p">,</span> <span class="tok-n">cutoff_freq_high</span><span class="tok-p">,</span> <span class="tok-n">gamma_low</span><span class="tok-p">,</span> <span class="tok-n">gamma_high</span><span class="tok-p">):</span>
    <span class="tok-c1"># Converter a imagem para float32</span>
    <span class="tok-n">image_float32</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">float32</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">)</span>

    <span class="tok-c1"># Aplicar a transformação logarítmica</span>
    <span class="tok-n">log_image</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">log1p</span><span class="tok-p">(</span><span class="tok-n">image_float32</span><span class="tok-p">)</span>

    <span class="tok-c1"># Realizar a Transformada de Fourier (FFT)</span>
    <span class="tok-n">fft_image</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">fft</span><span class="tok-o">.</span><span class="tok-n">fft2</span><span class="tok-p">(</span><span class="tok-n">log_image</span><span class="tok-p">)</span>

    <span class="tok-c1"># Criar o filtro</span>
    <span class="tok-n">rows</span><span class="tok-p">,</span> <span class="tok-n">cols</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span>
    <span class="tok-n">filtro</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">zeros</span><span class="tok-p">((</span><span class="tok-n">rows</span><span class="tok-p">,</span> <span class="tok-n">cols</span><span class="tok-p">),</span> <span class="tok-n">dtype</span><span class="tok-o">=</span><span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">float32</span><span class="tok-p">)</span>

    <span class="tok-k">for</span> <span class="tok-n">i</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">rows</span><span class="tok-p">):</span>
        <span class="tok-k">for</span> <span class="tok-n">j</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">cols</span><span class="tok-p">):</span>
            <span class="tok-n">d</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">sqrt</span><span class="tok-p">((</span><span class="tok-n">i</span> <span class="tok-o">-</span> <span class="tok-n">rows</span><span class="tok-o">/</span><span class="tok-mi">2</span><span class="tok-p">)</span><span class="tok-o">**</span><span class="tok-mi">2</span> <span class="tok-o">+</span> <span class="tok-p">(</span><span class="tok-n">j</span> <span class="tok-o">-</span> <span class="tok-n">cols</span><span class="tok-o">/</span><span class="tok-mi">2</span><span class="tok-p">)</span><span class="tok-o">**</span><span class="tok-mi">2</span><span class="tok-p">)</span>
            <span class="tok-n">filtro</span><span class="tok-p">[</span><span class="tok-n">i</span><span class="tok-p">,</span> <span class="tok-n">j</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">gamma_high</span> <span class="tok-o">-</span> <span class="tok-n">gamma_low</span><span class="tok-p">)</span> <span class="tok-o">*</span> <span class="tok-p">(</span><span class="tok-mi">1</span> <span class="tok-o">-</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">exp</span><span class="tok-p">(</span><span class="tok-o">-</span><span class="tok-n">cutoff_freq_low</span> <span class="tok-o">*</span> <span class="tok-p">(</span><span class="tok-n">d</span><span class="tok-o">**</span><span class="tok-mi">2</span><span class="tok-p">)</span> <span class="tok-o">/</span> <span class="tok-p">(</span><span class="tok-n">cutoff_freq_high</span> <span class="tok-o">-</span> <span class="tok-n">cutoff_freq_low</span><span class="tok-p">)))</span> <span class="tok-o">+</span> <span class="tok-n">gamma_low</span>

    <span class="tok-c1"># Aplicar o filtro no domínio da frequência</span>
    <span class="tok-n">fft_filtrada</span> <span class="tok-o">=</span> <span class="tok-n">fft_image</span> <span class="tok-o">*</span> <span class="tok-n">filtro</span>

    <span class="tok-c1"># FFT inversa</span>
    <span class="tok-n">inversa_fft</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">fft</span><span class="tok-o">.</span><span class="tok-n">ifft2</span><span class="tok-p">(</span><span class="tok-n">fft_filtrada</span><span class="tok-p">)</span>

    <span class="tok-c1"># Transformação exponencial</span>
    <span class="tok-n">imagem_exp</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">expm1</span><span class="tok-p">(</span><span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">real</span><span class="tok-p">(</span><span class="tok-n">inversa_fft</span><span class="tok-p">))</span>

    <span class="tok-c1"># Normalizar para exibição</span>
    <span class="tok-n">resultado</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">normalize</span><span class="tok-p">(</span><span class="tok-n">imagem_exp</span><span class="tok-p">,</span> <span class="tok-kc">None</span><span class="tok-p">,</span> <span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-mi">255</span><span class="tok-p">,</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">NORM_MINMAX</span><span class="tok-p">)</span>
    <span class="tok-n">resultado</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">uint8</span><span class="tok-p">(</span><span class="tok-n">resultado</span><span class="tok-p">)</span>

    <span class="tok-k">return</span> <span class="tok-n">resultado</span>

<span class="tok-k">if</span> <span class="tok-vm">__name__</span> <span class="tok-o">==</span> <span class="tok-s2">&quot;__main__&quot;</span><span class="tok-p">:</span>
    <span class="tok-c1"># Carregar a imagem</span>
    <span class="tok-n">imagem</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imread</span><span class="tok-p">(</span><span class="tok-s2">&quot;homomorfica.png&quot;</span><span class="tok-p">,</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">IMREAD_GRAYSCALE</span><span class="tok-p">)</span>

    <span class="tok-c1"># Aplicar o filtro homomórfico</span>
    <span class="tok-n">imagem_filtrada</span> <span class="tok-o">=</span> <span class="tok-n">homomorphic_filter</span><span class="tok-p">(</span><span class="tok-n">imagem</span><span class="tok-p">,</span> <span class="tok-n">cutoff_freq_low</span><span class="tok-o">=</span><span class="tok-mf">0.1</span><span class="tok-p">,</span> <span class="tok-n">cutoff_freq_high</span><span class="tok-o">=</span><span class="tok-mi">30</span><span class="tok-p">,</span> <span class="tok-n">gamma_low</span><span class="tok-o">=</span><span class="tok-mi">25</span><span class="tok-p">,</span> <span class="tok-n">gamma_high</span><span class="tok-o">=</span><span class="tok-mi">1</span><span class="tok-p">)</span>

    <span class="tok-c1"># Exibir o resultado</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imshow</span><span class="tok-p">(</span><span class="tok-s2">&quot;Filtro Homomórfico&quot;</span><span class="tok-p">,</span> <span class="tok-n">imagem_filtrada</span><span class="tok-p">)</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imshow</span><span class="tok-p">(</span><span class="tok-s2">&quot;Original&quot;</span><span class="tok-p">,</span> <span class="tok-n">imagem</span><span class="tok-p">)</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">waitKey</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">)</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">destroyAllWindows</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Inicialmente, a imagem é transformada logaritmicamente para realçar detalhes e normalizada para o formato float32 e em seguida, a FFT é aplicada, seguida pela criação e aplicação de um filtro no domínio da frequência. O filtro é projetado para controlar a influência de diferentes frequências na imagem resultante. Após a aplicação do filtro, é realizada a inversa da FFT e uma transformação exponencial para recuperar a imagem original. A imagem resultante é normalizada para exibição e comparada com a imagem original. O resultado pode ser visto na Figura 3.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="homomorfico.png" alt="homomorfico">
</div>
<div class="title">Figure 3. Saída do programa homomorfico.py </div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_3_segmentação_de_imagens_cannypoints_py">3.Segmentação de imagens (cannypoints.py)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ao implementar o programa cannypoints.py, tomei como referência os códigos de exemplo canny.py e pontilhismo.py. A proposta foi integrar as características distintivas do algoritmo de detecção de bordas Canny para aprimorar a qualidade da imagem pontilhista resultante. Na minha abordagem, optei por utilizar a informação das bordas detectadas pelo algoritmo de Canny de maneira específica, utilizando as posições dos pixels de borda identificados para desenhar pontos nos locais correspondentes na imagem gerada pelo programa em Python.</p>
</div>
<div class="listingblock">
<div class="title">cannypoints.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-kn">import</span> <span class="tok-nn">numpy</span> <span class="tok-k">as</span> <span class="tok-nn">np</span>
<span class="tok-kn">import</span> <span class="tok-nn">random</span>
<span class="tok-kn">import</span> <span class="tok-nn">cv2</span>  <span class="tok-c1"># É necessário importar a biblioteca OpenCV</span>

<span class="tok-n">STEP</span> <span class="tok-o">=</span> <span class="tok-mi">3</span>  <span class="tok-c1"># Tamanho do passo para percorrer as bordas</span>
<span class="tok-n">JITTER</span> <span class="tok-o">=</span> <span class="tok-mi">3</span>  <span class="tok-c1"># Valor de ajuste aleatório para posicionar os pontos de maneira irregular</span>
<span class="tok-n">RAIO</span> <span class="tok-o">=</span> <span class="tok-mi">10</span>  <span class="tok-c1"># Raio dos círculos a serem desenhados</span>

<span class="tok-c1"># Defina os parâmetros manualmente</span>
<span class="tok-n">top_slider</span> <span class="tok-o">=</span> <span class="tok-mi">5</span>  <span class="tok-c1"># Ajuste manualmente</span>
<span class="tok-n">TrackbarName</span> <span class="tok-o">=</span> <span class="tok-s2">&quot;Threshold inferior&quot;</span>

<span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imread</span><span class="tok-p">(</span><span class="tok-s2">&quot;lena.jpg&quot;</span><span class="tok-p">,</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">IMREAD_GRAYSCALE</span><span class="tok-p">)</span>

<span class="tok-k">if</span> <span class="tok-n">image</span> <span class="tok-ow">is</span> <span class="tok-kc">None</span><span class="tok-p">:</span>
    <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Could not open or find the image&quot;</span><span class="tok-p">)</span>
<span class="tok-k">else</span><span class="tok-p">:</span>
    <span class="tok-n">height</span><span class="tok-p">,</span> <span class="tok-n">width</span> <span class="tok-o">=</span> <span class="tok-n">image</span><span class="tok-o">.</span><span class="tok-n">shape</span>

    <span class="tok-c1"># Utilizando as bordas para desenhar pontos na imagem gerada</span>
    <span class="tok-n">points</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">full_like</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-mi">255</span><span class="tok-p">,</span> <span class="tok-n">dtype</span><span class="tok-o">=</span><span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">uint8</span><span class="tok-p">)</span>  <span class="tok-c1"># Inicializa uma imagem com fundo branco</span>

    <span class="tok-n">edges</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">Canny</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-n">top_slider</span><span class="tok-p">,</span> <span class="tok-mi">3</span> <span class="tok-o">*</span> <span class="tok-n">top_slider</span><span class="tok-p">)</span>  <span class="tok-c1"># Aplica o detector de bordas de Canny</span>

    <span class="tok-n">yrange</span><span class="tok-p">,</span> <span class="tok-n">xrange</span> <span class="tok-o">=</span> <span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">where</span><span class="tok-p">(</span><span class="tok-n">edges</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span><span class="tok-p">)</span>  <span class="tok-c1"># Obtém as coordenadas dos pixels de borda</span>

    <span class="tok-k">for</span> <span class="tok-n">x</span><span class="tok-p">,</span> <span class="tok-n">y</span> <span class="tok-ow">in</span> <span class="tok-nb">zip</span><span class="tok-p">(</span><span class="tok-n">xrange</span><span class="tok-p">,</span> <span class="tok-n">yrange</span><span class="tok-p">):</span>
        <span class="tok-k">for</span> <span class="tok-n">_</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-n">STEP</span><span class="tok-p">):</span>
            <span class="tok-c1"># Adiciona um componente aleatório para posicionar os pontos de maneira irregular</span>
            <span class="tok-n">xi</span> <span class="tok-o">=</span> <span class="tok-n">x</span> <span class="tok-o">+</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-o">-</span><span class="tok-n">JITTER</span><span class="tok-p">,</span> <span class="tok-n">JITTER</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-p">)</span>
            <span class="tok-n">yi</span> <span class="tok-o">=</span> <span class="tok-n">y</span> <span class="tok-o">+</span> <span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-n">randint</span><span class="tok-p">(</span><span class="tok-o">-</span><span class="tok-n">JITTER</span><span class="tok-p">,</span> <span class="tok-n">JITTER</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-p">)</span>

            <span class="tok-c1"># Garante que os pontos não ultrapassem os limites da imagem</span>
            <span class="tok-n">xi</span> <span class="tok-o">=</span> <span class="tok-nb">max</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-nb">min</span><span class="tok-p">(</span><span class="tok-n">xi</span><span class="tok-p">,</span> <span class="tok-n">width</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-p">))</span>
            <span class="tok-n">yi</span> <span class="tok-o">=</span> <span class="tok-nb">max</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">,</span> <span class="tok-nb">min</span><span class="tok-p">(</span><span class="tok-n">yi</span><span class="tok-p">,</span> <span class="tok-n">height</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-p">))</span>

            <span class="tok-c1"># Obtém o valor de intensidade do pixel para definir a cor do círculo</span>
            <span class="tok-n">gray</span> <span class="tok-o">=</span> <span class="tok-nb">int</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">[</span><span class="tok-n">yi</span><span class="tok-p">,</span> <span class="tok-n">xi</span><span class="tok-p">])</span>

            <span class="tok-c1"># Desenha um círculo na imagem de pontos</span>
            <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">circle</span><span class="tok-p">(</span><span class="tok-n">points</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">xi</span><span class="tok-p">,</span> <span class="tok-n">yi</span><span class="tok-p">),</span> <span class="tok-n">RAIO</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-n">gray</span><span class="tok-p">,</span> <span class="tok-n">gray</span><span class="tok-p">,</span> <span class="tok-n">gray</span><span class="tok-p">),</span> <span class="tok-n">thickness</span><span class="tok-o">=</span><span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">FILLED</span><span class="tok-p">,</span> <span class="tok-n">lineType</span><span class="tok-o">=</span><span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">LINE_AA</span><span class="tok-p">)</span>

    <span class="tok-c1"># Exibe a imagem resultante</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imshow</span><span class="tok-p">(</span><span class="tok-s2">&quot;Pontos&quot;</span><span class="tok-p">,</span> <span class="tok-n">points</span><span class="tok-p">)</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">waitKey</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">)</span>

    <span class="tok-c1"># Salva a imagem resultante</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imwrite</span><span class="tok-p">(</span><span class="tok-s2">&quot;pontos_com_bordas.png&quot;</span><span class="tok-p">,</span> <span class="tok-n">points</span><span class="tok-p">)</span>

<span class="tok-c1"># Fecha as janelas abertas</span>
<span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">destroyAllWindows</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Este código Python utiliza a biblioteca OpenCV para realizar uma operação de pontilhismo dinâmico em uma imagem em tons de cinza. Primeiramente, o programa lê uma imagem, como exemplificado pela imagem "lena.jpg". Em seguida, aplica o detector de bordas de Canny para identificar regiões de alta variação de intensidade, representando bordas na imagem original. As coordenadas desses pixels de borda são então utilizadas para posicionar círculos na imagem resultante. Cada ponto é colocado com um deslocamento aleatório (jitter) para evitar uma disposição regular e conferir um caráter mais orgânico à representação. A intensidade dos pixels na imagem original determina a cor dos círculos, onde a sobreposição de círculos destaca as características de borda.
Uma observação: deixei a sensibilidade de canny alta, pois quanto menos bordas forem encontradas menos pontos são colocados, uma boa solução seria aumentar o raio das bordas nesse caso.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="pontilhismoCany.png" alt="pontilhismoCany">
</div>
<div class="title">Figure 4. Saída do programa cannypoints.py </div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_4_quantização_vetorial_com_k_means">4.Quantização vetorial com k-means</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ao abordar a implementação do algoritmo K-Means, optei por realizar 10 rodadas distintas do algoritmo, especificando a inicialização dos centros de forma aleatória através do parâmetro KMEANS_RANDOM_CENTERS. Essa escolha visa explorar a influência da inicialização na estabilidade e consistência dos agrupamentos:</p>
</div>
<div class="listingblock">
<div class="title">k-means.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-kn">import</span> <span class="tok-nn">cv2</span>
<span class="tok-kn">import</span> <span class="tok-nn">numpy</span> <span class="tok-k">as</span> <span class="tok-nn">np</span>

<span class="tok-c1"># Número de clusters desejados</span>
<span class="tok-n">nClusters</span> <span class="tok-o">=</span> <span class="tok-mi">8</span>

<span class="tok-c1"># Número de rodadas do algoritmo K-Means</span>
<span class="tok-n">nRodadas</span> <span class="tok-o">=</span> <span class="tok-mi">1</span>

<span class="tok-c1"># Carregar a imagem</span>
<span class="tok-n">img</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imread</span><span class="tok-p">(</span><span class="tok-s2">&quot;sushi.jpg&quot;</span><span class="tok-p">,</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">IMREAD_COLOR</span><span class="tok-p">)</span>

<span class="tok-c1"># Reformatar a imagem para um vetor de amostras</span>
<span class="tok-n">samples</span> <span class="tok-o">=</span> <span class="tok-n">img</span><span class="tok-o">.</span><span class="tok-n">reshape</span><span class="tok-p">((</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-mi">3</span><span class="tok-p">))</span><span class="tok-o">.</span><span class="tok-n">astype</span><span class="tok-p">(</span><span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">float32</span><span class="tok-p">)</span>

<span class="tok-c1"># Critérios de parada para o algoritmo K-Means</span>
<span class="tok-n">criteria</span> <span class="tok-o">=</span> <span class="tok-p">(</span><span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">TERM_CRITERIA_EPS</span> <span class="tok-o">+</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">TERM_CRITERIA_MAX_ITER</span><span class="tok-p">,</span> <span class="tok-mi">10000</span><span class="tok-p">,</span> <span class="tok-mf">0.0001</span><span class="tok-p">)</span>

<span class="tok-c1"># Inicializar centros de forma aleatória</span>
<span class="tok-n">flags</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">KMEANS_RANDOM_CENTERS</span>
<span class="tok-n">_</span><span class="tok-p">,</span> <span class="tok-n">labels</span><span class="tok-p">,</span> <span class="tok-n">centers</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">kmeans</span><span class="tok-p">(</span><span class="tok-n">samples</span><span class="tok-p">,</span> <span class="tok-n">nClusters</span><span class="tok-p">,</span> <span class="tok-kc">None</span><span class="tok-p">,</span> <span class="tok-n">criteria</span><span class="tok-p">,</span> <span class="tok-n">nRodadas</span><span class="tok-p">,</span> <span class="tok-n">flags</span><span class="tok-p">)</span>

<span class="tok-c1"># Criar imagem rotulada com base nos centros encontrados</span>
<span class="tok-n">rotulada</span> <span class="tok-o">=</span> <span class="tok-n">centers</span><span class="tok-p">[</span><span class="tok-n">labels</span><span class="tok-p">]</span><span class="tok-o">.</span><span class="tok-n">reshape</span><span class="tok-p">(</span><span class="tok-n">img</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">astype</span><span class="tok-p">(</span><span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">uint8</span><span class="tok-p">)</span>

<span class="tok-c1"># Exibir a imagem resultante da primeira rodada e salvar</span>
<span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imshow</span><span class="tok-p">(</span><span class="tok-s2">&quot;kmeans&quot;</span><span class="tok-p">,</span> <span class="tok-n">rotulada</span><span class="tok-p">)</span>
<span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imwrite</span><span class="tok-p">(</span><span class="tok-s2">&quot;saida_random_centers_rodada_1.jpg&quot;</span><span class="tok-p">,</span> <span class="tok-n">rotulada</span><span class="tok-p">)</span>
<span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">waitKey</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">)</span>

<span class="tok-c1"># Realizar 9 rodadas adicionais</span>
<span class="tok-k">for</span> <span class="tok-n">rodada</span> <span class="tok-ow">in</span> <span class="tok-nb">range</span><span class="tok-p">(</span><span class="tok-mi">2</span><span class="tok-p">,</span> <span class="tok-mi">11</span><span class="tok-p">):</span>
    <span class="tok-n">_</span><span class="tok-p">,</span> <span class="tok-n">labels</span><span class="tok-p">,</span> <span class="tok-n">centers</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">kmeans</span><span class="tok-p">(</span><span class="tok-n">samples</span><span class="tok-p">,</span> <span class="tok-n">nClusters</span><span class="tok-p">,</span> <span class="tok-kc">None</span><span class="tok-p">,</span> <span class="tok-n">criteria</span><span class="tok-p">,</span> <span class="tok-n">nRodadas</span><span class="tok-p">,</span> <span class="tok-n">flags</span><span class="tok-p">)</span>
    <span class="tok-n">rotulada</span> <span class="tok-o">=</span> <span class="tok-n">centers</span><span class="tok-p">[</span><span class="tok-n">labels</span><span class="tok-p">]</span><span class="tok-o">.</span><span class="tok-n">reshape</span><span class="tok-p">(</span><span class="tok-n">img</span><span class="tok-o">.</span><span class="tok-n">shape</span><span class="tok-p">)</span><span class="tok-o">.</span><span class="tok-n">astype</span><span class="tok-p">(</span><span class="tok-n">np</span><span class="tok-o">.</span><span class="tok-n">uint8</span><span class="tok-p">)</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imwrite</span><span class="tok-p">(</span><span class="tok-sa">f</span><span class="tok-s2">&quot;saida_random_centers_rodada_</span><span class="tok-si">{</span><span class="tok-n">rodada</span><span class="tok-si">}</span><span class="tok-s2">.jpg&quot;</span><span class="tok-p">,</span> <span class="tok-n">rotulada</span><span class="tok-p">)</span>

<span class="tok-c1"># Fechar as janelas abertas</span>
<span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">destroyAllWindows</span><span class="tok-p">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Inicialmente, a imagem é convertida em um vetor de amostras, onde cada amostra corresponde a um pixel com três componentes de cor. O algoritmo K-Means é então empregado com a configuração de oito clusters e uma única rodada (nRodadas=1).A inicialização dos centros é realizada de forma aleatória (KMEANS_RANDOM_CENTERS). A imagem resultante da primeira iteração é exibida e salva. Em seguida, o algoritmo é executado em mais nove rodadas, cada uma gerando uma imagem rotulada e salva.</p>
</div>
<div class="paragraph">
<p>Ao longo das múltiplas rodadas, a variabilidade nas imagens resultantes pode ser observada devido à inicialização aleatória dos centros. Isso destaca a influência significativa que as condições iniciais têm no processo de agrupamento. Cada imagem captura diferentes nuances na segmentação de cores, revelando a sensibilidade do algoritmo K-Means à escolha inicial dos centros. O uso de múltiplas rodadas proporciona uma perspectiva mais abrangente dos agrupamentos possíveis, destacando a natureza estocástica do algoritmo e a necessidade de avaliar sua robustez frente a diferentes condições iniciais.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="k-means(1).jpg" alt="k means(1)">
</div>
<div class="title">Figure 5. Saída do programa k-means.py, laço 0 </div>
</div>
<div class="imageblock">
<div class="content">
<img src="k-means(2).jpg" alt="k means(2)">
</div>
<div class="title">Figure 6. Saída do programa k-means.py, laço 1</div>
</div>
<div class="imageblock">
<div class="content">
<img src="k-means(3).jpg" alt="k means(3)">
</div>
<div class="title">Figure 7. Saída do programa k-means.py, laço 2</div>
</div>
<div class="imageblock">
<div class="content">
<img src="k-means(4).jpg" alt="k means(4)">
</div>
<div class="title">Figure 8. Saída do programa k-means.py, laço 3 </div>
</div>
<div class="imageblock">
<div class="content">
<img src="k-means(5).jpg" alt="k means(5)">
</div>
<div class="title">Figure 9. Saída do programa k-means.py, laço 4 </div>
</div>
<div class="imageblock">
<div class="content">
<img src="k-means(6).jpg" alt="k means(6)">
</div>
<div class="title">Figure 10. Saída do programa k-means.py, laço 5 </div>
</div>
<div class="imageblock">
<div class="content">
<img src="k-means(7).jpg" alt="k means(7)">
</div>
<div class="title">Figure 11. Saída do programa k-means.py, laço 6 </div>
</div>
<div class="imageblock">
<div class="content">
<img src="k-means(8).jpg" alt="k means(8)">
</div>
<div class="title">Figure 12. Saída do programa k-means.py, laço 7 </div>
</div>
<div class="imageblock">
<div class="content">
<img src="k-means(9).jpg" alt="k means(9)">
</div>
<div class="title">Figure 13. Saída do programa k-means.py, laço 8 </div>
</div>
<div class="imageblock">
<div class="content">
<img src="k-means(10).jpg" alt="k means(10)">
</div>
<div class="title">Figure 14. Saída do programa k-means.py, laço 9 </div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_5_filtragem_de_forma_com_morfologia_matemática">5.Filtragem de forma com morfologia matemática</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para superar desafios no reconhecimento de caracteres em visores segmentados, propõe-se um programa baseado em operações morfológicas, utilizando morfologia.cpp. O objetivo é otimizar o reconhecimento de dígitos. A preservação da separação do ponto decimal é crucial para evitar equívocos no reconhecimento numérico.</p>
</div>
<div class="listingblock">
<div class="title">correcaoDigito.py</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="python"><span></span><span class="tok-kn">import</span> <span class="tok-nn">cv2</span>
<span class="tok-kn">import</span> <span class="tok-nn">numpy</span> <span class="tok-k">as</span> <span class="tok-nn">np</span>

<span class="tok-k">def</span> <span class="tok-nf">pre_processamento</span><span class="tok-p">(</span><span class="tok-n">image_path</span><span class="tok-p">):</span>
    <span class="tok-c1"># Carregar a imagem</span>
    <span class="tok-n">image</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imread</span><span class="tok-p">(</span><span class="tok-n">image_path</span><span class="tok-p">,</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">IMREAD_UNCHANGED</span><span class="tok-p">)</span>

    <span class="tok-k">if</span> <span class="tok-n">image</span> <span class="tok-ow">is</span> <span class="tok-kc">None</span><span class="tok-p">:</span>
        <span class="tok-nb">print</span><span class="tok-p">(</span><span class="tok-s2">&quot;Erro ao carregar a imagem:&quot;</span><span class="tok-p">,</span> <span class="tok-n">image_path</span><span class="tok-p">)</span>
        <span class="tok-k">return</span> <span class="tok-kc">None</span>

    <span class="tok-c1"># Elemento estruturante</span>
    <span class="tok-n">str_element</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">getStructuringElement</span><span class="tok-p">(</span><span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">MORPH_RECT</span><span class="tok-p">,</span> <span class="tok-p">(</span><span class="tok-mi">1</span><span class="tok-p">,</span> <span class="tok-mi">10</span><span class="tok-p">))</span>

    <span class="tok-c1"># Erosão para unir os segmentos</span>
    <span class="tok-n">eroded</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">erode</span><span class="tok-p">(</span><span class="tok-n">image</span><span class="tok-p">,</span> <span class="tok-n">str_element</span><span class="tok-p">)</span>

    <span class="tok-c1"># Dilatação para recuperar a forma original, mantendo os segmentos unidos</span>
    <span class="tok-n">dilated</span> <span class="tok-o">=</span> <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">dilate</span><span class="tok-p">(</span><span class="tok-n">eroded</span><span class="tok-p">,</span> <span class="tok-n">str_element</span><span class="tok-p">)</span>

    <span class="tok-c1"># Exibição da imagem de pré-processamento</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">imshow</span><span class="tok-p">(</span><span class="tok-s2">&quot;Pré-processamento&quot;</span><span class="tok-p">,</span> <span class="tok-n">dilated</span><span class="tok-p">)</span>
    <span class="tok-n">cv2</span><span class="tok-o">.</span><span class="tok-n">waitKey</span><span class="tok-p">(</span><span class="tok-mi">0</span><span class="tok-p">)</span>

    <span class="tok-k">return</span> <span class="tok-n">dilated</span>

<span class="tok-c1"># Exemplo de uso</span>
<span class="tok-n">imagem_pre_processada</span> <span class="tok-o">=</span> <span class="tok-n">pre_processamento</span><span class="tok-p">(</span><span class="tok-s2">&quot;digitos-2.png&quot;</span><span class="tok-p">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>O elemento estruturante (str_element), definido como um retângulo de dimensões (1, 10), é projetado para unir segmentos verticalmente, sendo uma dimensão estratégica para preservar a separação horizontal entre os dígitos. Essa escolha específica (1, 10) é crucial para evitar a união do ponto decimal com os dígitos adjacentes, garantindo a correta interpretação numérica. A sequência de operações, erosão e dilatação, é executada de maneira a unir os segmentos do dígito verticalmente, contribuindo para a coesão do caractere reconhecido. O resultado final do pré-processamento pode ser visto a seguir:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="dig1.png" alt="dig1">
</div>
<div class="title">Figure 15. Saída do programa correcaoDigito.py</div>
</div>
<div class="imageblock">
<div class="content">
<img src="dig2.png" alt="dig2">
</div>
<div class="title">Figure 16. Saída do programa correcaoDigito.py</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-12-03 13:57:07 -0300
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>